<div class="row">
    <h2 class="text-center mt-2">Attendance</h2>
</div>
<div class="row mb-2">
    <label class="col-form-label col-auto" for="startDate">Select Date: </label>
    <div class="col-auto">
        <input id="startDate" class="form-control" type="date"(ngModelChange)="onDateSelected($event)" #date [(ngModel)]="attendanceDate"/>
    </div>
    <div class="col-auto" *ngIf="!isSubmitted">
        <button class="btn btn-primary" (click)="onSubmit()">SUBMIT</button>
    </div>
</div>
<div class="row" *ngIf="isSubmitted">
    <h1 class="text-center text-success">SUCCESS!</h1>
</div>
<div class="row" *ngIf="!isSubmitted">
    <div class="card mb-4">
        <div class="card-body">
            <div class="row">
                <div class="col-sm-3">
                    <p class="mb-0 fw-bold">Name</p>
                </div>
                <div class="col-sm-9">
                    <p class="fw-bold mb-0">Status</p>
                </div>
            </div>
            <div class="row" *ngFor="let attendance of attendances">
                <hr>
                <div class="col-sm-3">
                    <p class="mb-0">{{ attendance.studentFirstName + ' ' + attendance.studentLastName }}</p>
                </div>
                <div class="col-sm-9">
                    <div class="row">
                        <div class="col-auto">
                            <div class="form-check form-check-inline">
                                <label class="form-check-label">
                                    <input class="form-check-input" type="radio" [name]="attendance.studentFirstName+attendance.studentLastName" value="PRESENT"
                                        [(ngModel)]="attendance.status">
                                    Present
                                </label>
                            </div>
                        </div>
                        <div class="col-auto">
                            <div class="form-check form-check-inline">
                                <label class="form-check-label">
                                    <input class="form-check-input" type="radio" [name]="attendance.studentFirstName+attendance.studentLastName" value="ABSENT"
                                        [(ngModel)]="attendance.status">
                                    Absent
                                </label>
                            </div>
                        </div>
                        <div class="col-auto">
                            <div class="form-check form-check-inline">
                                <label class="form-check-label">
                                    <input class="form-check-input" type="radio" [name]="attendance.studentFirstName+attendance.studentLastName" value="UNDECIDED"
                                        [(ngModel)]="attendance.status">
                                    Undecided
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>